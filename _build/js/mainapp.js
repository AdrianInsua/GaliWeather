!function(){function e(e,n,a,l){function r(e){var n=new Date;return n.setDate(n.getDate()+e)}function t(e){for(var n=[],a=0;a<e;a++)n=n.concat(r(a));return n}var i=this;i.loadingResults=!1,i.landingPage=!0,i.showSingle=!1,i.provincesFilter=[6357300,6359189,6359872,6360237],i.daysFilter=[],i.results=[],i.singleResult=void 0;var s={COR:6357300,LUG:6359189,OUR:6359872,PONT:6360237},o={1:1,2:2,3:3,4:4};i.vegObjs=[{name:"Broccoli",type:"Brassica"},{name:"Cabbage",type:"Brassica"},{name:"Carrot",type:"Umbelliferous"}],i.menuBarOptions={province:{id:1,placeholder:"SEL_PROV",label:"Prov.",variable:"",values:s},day:{id:2,placeholder:"SEL_DAY",label:"Pred.",variable:"",values:o}},i.demark=function(){i.menuBarOptions.province.variable=""},i.updateSingleResult=function(e){var n=l.map(e,function(e){delete e.dt;var n=l.map(e,function(e,n){var a={};return a.data=e,a.name=n,a});return n});console.log(n),i.showSingle=!0,i.singleResult=n},i.search=function(){try{i.results=[],i.landingPage&&(i.loadingResults=!0),i.landingPage=!1,i.menuBarOptions.province.variable.length>0&&(i.provincesFilter=i.menuBarOptions.province.variable),""!==i.menuBarOptions.day.variable?i.daysFilter=t(i.menuBarOptions.day.variable):i.daysFilter=t(4);for(var n in i.provincesFilter)e.query("GET",i.provincesFilter[n]).then(function(e){0===i.results.length&&(i.loadingResults=!1),i.provincesFilter.length>1?(i.showSingle=!1,i.results=i.results.concat(e)):(i.updateSingleResult(e.data.list),console.log(i.singleResult))})}catch(a){console.log(a),i.landingPage=!0,i.loadingResults=!1,i.resuslt=[]}},i.goBack=function(){i.showSingle?(i.landingPage=0===i.results.length,i.showSingle=!1):(i.landingPage=!0,i.results=[],i.singleResult=void 0)}}angular.module("galiweather").controller("MainController",["QueryService","$timeout","$route","_",e])}();